Zepto(function(e){function t(){var e=o.transaction("demo_service","readwrite"),t=e.objectStore("demo_service");t.get(a).onsuccess=function(e){r=e.target.result,r&&(l.val(r.title),c.val(r.desc))}}function i(){if(c.validate()&&l.validate()){var e=o.transaction("demo_service","readwrite"),t=e.objectStore("demo_service");r.title=l.val(),r.desc=c.val(),t.put(r).onsuccess=function(){window.location.href="admin.html"}}}var n=getLoginStaffInfo(),r="";if(!n)return void(window.location.href="loginAdmin.html");var a=parseInt(getUrlParam("serviceId")),o={};openIndexedDB(function(e){o=e,t()});var l={_el:e("#service_title"),validate:function(){var e=this.val();return e?!0:(showError(this._el,"标题不能为空！"),!1)},val:function(e){return e?this._el.val(e):this._el.val()}},c={_el:e("#service_desc"),validate:function(){var e=this.val();return e?!0:(showError(this._el,"内容不能为空！"),!1)},val:function(e){return e?this._el.val(e):this._el.val()}};e("#save").tap(function(){i()}),e("#cancel").tap(function(){window.location.href="serviceList.html"})});